(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1596:()=>{},5997:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,3063,23)),Promise.resolve().then(s.bind(s,8795)),Promise.resolve().then(s.t.bind(s,8334,23))},8334:()=>{},8795:(e,t,s)=>{"use strict";s.d(t,{default:()=>h});var l=s(5155),i=s(2115),a=s(5143),n=s(402);s(808),["checkbox","color","collection","collection_list","image_picker","link_list","number","page","paragraph","product","product_list","radio","range","richtext","select","text","textarea","video_url","font_picker","blog","url","header"].sort();let o=(e,t,s)=>{t("");let l=e.match(/{%\s*schema\s*%}([\s\S]*?){%\s*endschema\s*%}/);if(l){let e=l[1];try{let t=JSON.parse(e);s(t)}catch(e){t("Error parsing schema content.")}}else t("No {% schema %} found in the pasted code.")},c=e=>{e(e=>({...e,settings:[...e.settings,{id:"",type:"text",label:"",default:"",info:""}]}))};s(1596);var r=s(8266);function d(e){let{id:t,item:s,index:i,schema:a,setSchema:o,collapsed:c,setCollapsed:d}=e,{attributes:h,listeners:u,setNodeRef:g,transform:p,transition:m,isDragging:x}=(0,n.gl)({id:t}),j={transform:r.Ks.Transform.toString(p),transition:m,opacity:x?.5:1};return(0,l.jsxs)("div",{ref:g,style:j,className:"setting-container ".concat(x?"dragging":""),...h,...u,children:[(0,l.jsx)("div",{className:"collapsible-header",onClick:()=>{d(e=>({...e,[i]:!e[i]}))},children:(0,l.jsx)("h3",{children:s.label||"Setting ".concat(i+1)})}),(0,l.jsx)("button",{className:"editor-button--remove",onClick:()=>{let e=a.settings.filter((e,t)=>t!==i);o({...a,settings:e})},children:"\xd7"}),!c[i]&&(0,l.jsxs)("div",{className:"collapsible-content",children:[(0,l.jsx)("input",{type:"text",value:s.label||"",onChange:e=>{let t=[...a.settings];t[i]={...s,label:e.target.value},o({...a,settings:t})},className:"input-field",placeholder:"Label"}),(0,l.jsx)("input",{type:"text",value:s.id||"",onChange:e=>{let t=[...a.settings];t[i]={...s,id:e.target.value},o({...a,settings:t})},className:"input-field",placeholder:"ID"}),(0,l.jsxs)("select",{value:s.type||"",onChange:e=>{let t=[...a.settings];t[i]={...s,type:e.target.value},o({...a,settings:t})},className:"input-field",children:[(0,l.jsx)("option",{value:"",children:"Select Type"}),(0,l.jsx)("option",{value:"text",children:"Text"}),(0,l.jsx)("option",{value:"textarea",children:"Textarea"}),(0,l.jsx)("option",{value:"number",children:"Number"}),(0,l.jsx)("option",{value:"checkbox",children:"Checkbox"}),(0,l.jsx)("option",{value:"radio",children:"Radio"}),(0,l.jsx)("option",{value:"select",children:"Select"}),(0,l.jsx)("option",{value:"color",children:"Color"}),(0,l.jsx)("option",{value:"image_picker",children:"Image Picker"})]})]})]})}function h(){let[e,t]=(0,i.useState)({name:"Custom Section",settings:[]}),[s,r]=(0,i.useState)(""),[h,u]=(0,i.useState)(""),[g,p]=(0,i.useState)({}),[m,x]=(0,i.useState)(!0),[j,v]=(0,i.useState)(!1),[f,N]=(0,i.useState)(""),S=(0,a.FR)((0,a.MS)(a.AN),(0,a.MS)(a.uN,{coordinateGetter:n.JR}));return(0,i.useEffect)(()=>{let e=localStorage.getItem("schema"),s=localStorage.getItem("shopifyCode"),l=localStorage.getItem("collapsed");e&&t(JSON.parse(e)),s&&r(s),l&&p(JSON.parse(l)),x(!1)},[]),(0,i.useEffect)(()=>{localStorage.setItem("schema",JSON.stringify(e)),localStorage.setItem("shopifyCode",s),localStorage.setItem("collapsed",JSON.stringify(g))},[e,s,g]),(0,i.useEffect)(()=>{N(JSON.stringify(e,null,2))},[e]),(0,l.jsxs)("div",{className:"editor",children:[(0,l.jsx)("h1",{className:"header",children:"Shopify Section Editor V3"}),m?(0,l.jsxs)("div",{className:"skeleton-loader",children:[(0,l.jsx)("div",{className:"skeleton-header"}),(0,l.jsx)("div",{className:"skeleton-content"}),(0,l.jsx)("div",{className:"skeleton-footer"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("textarea",{value:s,onChange:e=>r(e.target.value),placeholder:"Paste your Shopify section code here...",className:"input-field"}),(0,l.jsxs)("div",{className:"editor-container",children:[(0,l.jsxs)("div",{className:"editor-settings",children:[(0,l.jsxs)("div",{className:"editor-controls",children:[(0,l.jsx)("button",{className:"paste-code",onClick:()=>o(s,u,t),children:"Paste & Parse Code"}),(0,l.jsx)("button",{onClick:()=>{let t=!j;v(t);let s={};e.settings.forEach((e,l)=>{s[l]=t}),p(s)},children:j?"Uncollapse All":"Collapse All"}),h&&(0,l.jsx)("div",{className:"error-message",children:h}),(0,l.jsx)("button",{className:"add-setting",onClick:()=>c(t),children:"Add Setting"})]}),(0,l.jsx)(a.Mp,{sensors:S,collisionDetection:a.fp,onDragEnd:s=>{let{active:l,over:i}=s;if(l.id!==i.id){let s=e.settings.findIndex(e=>e.id===l.id),a=e.settings.findIndex(e=>e.id===i.id);t(e=>({...e,settings:(0,n.be)(e.settings,s,a)}))}},children:(0,l.jsx)(n.gB,{items:e.settings.map(e=>e.id),strategy:n._G,children:(0,l.jsx)("div",{children:e.settings.map((s,i)=>(0,l.jsx)(d,{id:s.id,item:s,index:i,schema:e,setSchema:t,collapsed:g,setCollapsed:p},s.id))})})})]}),(0,l.jsx)("div",{className:"json-output",children:(0,l.jsx)("pre",{children:f})})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[153,723,441,684,358],()=>t(5997)),_N_E=e.O()}]);